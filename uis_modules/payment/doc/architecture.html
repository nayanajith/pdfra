<LINK href="style.css" rel="stylesheet" type="text/css">
<h1>Architecture of Universial Payment Gateway (UPG) of UCSC</h1>
<pre style='font-family:monospace'> 
<h3>Abstract view </h3>
.-----------.      .-----------.      .-----------.
|           |--4-->|           |--5-->|           |
|     1     |      |     2     |      |     3     |
|           |<--7--|           |<--6--|           |
'-----------'      '-----------'      '-----------'

1. Third party
2. Universal payment gateway(UPG) of UCSC 
3. Bank
4. Payment request from third party to UPG
5. Payment request from UPG to bank
6. Bank callback with the payment status
7. UPG callback with the payment status and other info*
</pre>
<h2>Third Party</h2>
The third party application will collect required data from the payer and store for future usage. Required information will be sent to the payment gateway using a HTTP POST request. The user should also redirected to the UPG while passing the parameters to it. The technology used in third party application is independent.

<h2>Universal Payment Gateway</h2>
<ul>
Universal payment gateway is composed of 4 sub components
<h3>Third Party Communication</h3>
<p>
Third party request handler and callback sender
</p>
<h3>Reporting</h3>
<p>
Receipt for the payer generator and mail
</p>
<h3>Bank Communication</h3>
<p>
Encrypted invoice generation for the bank and decryption and understanding the Receipt from the bank
</p>
<h3>Data visualization and management</h3>
<p>
GUI front-end to manage and view information
</p>
</ul>
<h2>Bank</h2>
Generic credit card validation and payment confirmation task. After finishing the payment, the user will be redirected back to the UPG
<hr>
* Third party reference number, payment reference number and the tax amount will also provided
